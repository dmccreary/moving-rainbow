
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Resources for teaching computational thinking to CoderDojo Twin Cities students using LED strips.  All content licensed Creative Commons ShareAlike Attribution Noncommercial">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/moving-rainbow/chapters/02-pi-500-keyboard/">
      
      
        <link rel="prev" href="../01-introduction/">
      
      
        <link rel="next" href="../../lessons/">
      
      
        
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>2. Pi 500 Keyboard - Moving Rainbow</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="2. Pi 500 Keyboard - Moving Rainbow" />
<meta property="og:description" content="Resources for teaching computational thinking to CoderDojo Twin Cities students using LED strips.  All content licensed Creative Commons ShareAlike Attribution Noncommercial" />
<meta property="og:image" content="https://dmccreary.github.io/moving-rainbow/assets/images/social/chapters/02-pi-500-keyboard/index.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://dmccreary.github.io/moving-rainbow/chapters/02-pi-500-keyboard/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="2. Pi 500 Keyboard - Moving Rainbow" />
<meta property="twitter:description" content="Resources for teaching computational thinking to CoderDojo Twin Cities students using LED strips.  All content licensed Creative Commons ShareAlike Attribution Noncommercial" />
<meta property="twitter:image" content="https://dmccreary.github.io/moving-rainbow/assets/images/social/chapters/02-pi-500-keyboard/index.png" />
</head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#642580" data-md-color-accent="#41BAC1">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#programming-the-raspberry-pi-500-keyboard" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Moving Rainbow" class="md-header__button md-logo" aria-label="Moving Rainbow" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Moving Rainbow
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2. Pi 500 Keyboard
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/moving-rainbow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Moving Rainbow" class="md-nav__button md-logo" aria-label="Moving Rainbow" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Moving Rainbow
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/moving-rainbow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Course Description
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concept-sequence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concept Sequence
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../getting-started/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Chapters
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Chapters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    2. Pi 500 Keyboard
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    2. Pi 500 Keyboard
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    <span class="md-ellipsis">
      
        What You Will Need
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-rgb-library" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing the RGB Library
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-function-key-to-cycle-through-the-seven-presets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the Function Key to Cycle Through the Seven Presets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controlling-rgb-with-terminal-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Controlling RGB With Terminal Commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-colors-from-a-python-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting Colors From a Python Script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-simple-notification-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simple Notification System
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-interactive-effects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Interactive Effects
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatically-running-scripts-on-boot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatically Running Scripts on Boot
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../lessons/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    NeoPixel Lessons
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../led-noodles/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    LED Noodles
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../sims/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    MicroSims
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../kits/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Kits
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../teachers-guide/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Teachers Guide
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../prompts/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    GenAI Prompts
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../challenges/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Challenges
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../challenges-v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Challenges v2
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Moving Rainbow Skill
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-we-built-this-site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How we built this site
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    <span class="md-ellipsis">
      
        What You Will Need
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-rgb-library" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing the RGB Library
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-function-key-to-cycle-through-the-seven-presets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the Function Key to Cycle Through the Seven Presets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controlling-rgb-with-terminal-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Controlling RGB With Terminal Commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-colors-from-a-python-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting Colors From a Python Script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-simple-notification-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Simple Notification System
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-interactive-effects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Interactive Effects
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatically-running-scripts-on-boot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatically Running Scripts on Boot
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/dmccreary/moving-rainbow/edit/master/docs/chapters/02-pi-500-keyboard/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="programming-the-raspberry-pi-500-keyboard">Programming the Raspberry Pi 500 Keyboard</h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Much of these examples were taken from <a href="https://core-electronics.com.au/guides/how-to-customise-your-pi-500-plus-rgb-keyboard-python-scripts-and-custom-effects/">How To Customize Your Pi 500+ RGB Keyboard | Custom Effects &amp; Python Scripts</a> by Jaryd at Core Electronics in New Zealand. Updated 08 October 2025.</p>
</div>
<p>In this guide, we're going to be programming the LEDs on the Pi 500+ keyboard.  We will
start out just using some function keys to turn on different patterns and
we will learn about the seven preset patterns we can program.
Then we will run a few simple shell commands that change the LEDs and preset patterns. 
Lastly we will move to writing small Python scripts to create your own animations, reactive lighting, and even little games or notification systems. By the end, you'll have full control over every LED on your keyboard.  Programming all the keys on your computer will be
your new superpower!  Your friends will be impressed!</p>
<p>Note that all the source code for our samples can be downloaded directly from the
Moving Rainbow GitHub site <a href="https://github.com/dmccreary/moving-rainbow/tree/master/src/pi-500-keyboard">here</a>.</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#what-you-will-need">What You Will Need</a></li>
<li><a href="#installing-the-rgb-library">Installing the RGB Library</a></li>
<li><a href="#controlling-rgb-with-terminal-commands">Controlling RGB With Terminal Commands</a></li>
<li><a href="#setting-colors-from-a-python-script">Setting Colors From a Python Script</a></li>
<li><a href="#a-simple-notification-system">A Simple Notification System</a></li>
<li><a href="#creating-interactive-effects">Creating Interactive Effects</a></li>
<li><a href="#automatically-running-scripts-on-boot">Automatically Running Scripts on Boot</a></li>
<li><a href="#where-to-from-here">Where to From Here?</a></li>
</ul>
<h2 id="what-you-will-need">What You Will Need</h2>
<p>To follow along with this guide, you will need:</p>
<ul>
<li>Raspberry Pi 500+</li>
<li>USB-C power supply (ideally a 5-watt power supply that supports external USB ports)</li>
<li>Mouse</li>
<li>Monitor</li>
<li>Micro-HDMI to HDMI cable (note, this is a non-standard cable and you may need to special order it)</li>
</ul>
<h2 id="installing-the-rgb-library">Installing the RGB Library</h2>
<p>To get started, we need to update and upgrade our linux packages:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
</code></pre></div>
<p>To handle all of our RGB interactions, we are going to be using the official Raspberry Pi keyboard config library. If you are using Raspberry Pi OS <code>bookworm</code>, chances are this will come pre-installed. </p>
<p>You can run the Linux Software Base program with the codename short option (CS) to see what version you are running.</p>
<div class="highlight"><pre><span></span><code>lsb_release<span class="w"> </span>-cs
</code></pre></div>
<p>This tutorial was created on the <code>bookworm</code> release which came out in 2023 and which the Pi OS is based on.</p>
<p>You can install the library (or ensure it's updated) with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>rpi-keyboard-config
</code></pre></div>
<p>Then very importantly, ensure your keyboard's firmware is up to date with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>rpi-keyboard-fw-update
sudo<span class="w"> </span>rpi-keyboard-fw-update
</code></pre></div>
<h2 id="using-the-function-key-to-cycle-through-the-seven-presets">Using the Function Key to Cycle Through the Seven Presets</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CY3thrGdL6I?si=Z0JaC9OIb8RPBsbD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<h2 id="controlling-rgb-with-terminal-commands">Controlling RGB With Terminal Commands</h2>
<p>We are going to start with some basic terminal commands, and keep building up the complexity. It is worthwhile starting basic as most of the commands here will be important in the more advanced sections.</p>
<p>If you hit <code>FN + F4</code>, you will cycle through the seven preset colors stored on your keyboard. It's worth noting that by default, the Pi 500+ can hold 7 of these presets.</p>
<p>In the terminal, we can choose which preset we want with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>preset<span class="w"> </span>index<span class="w"> </span><span class="m">3</span>
</code></pre></div>
<p>This will set the keyboard to preset 3, and we can choose any number from preset 0 to preset 6. This command is essentially the equivalent of pressing <code>FN + F4</code>, but just doing it through the terminal.</p>
<p>The default effects you see in these presets are nice, but there are plenty of other effects available to choose from!</p>
<p>A quick distinction here: effects are the RGB patterns/colors/layouts programmed into the keyboard, and presets are slots that can store these effects for convenient access.</p>
<p>Enter the following command to see a list of all the available effects to choose from:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>list-effects
</code></pre></div>
<p>And you can view an effect with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>effect<span class="w"> </span><span class="m">25</span>
</code></pre></div>
<p>The line above views effect number 25, but you should play around and view some more, there are some pretty cool ones available! Some of our favorites are 25, 29, and 40.</p>
<p>Some presets also have inputs that can alter their behavior. You can set the speed, saturation and hue of the effects with the modified command:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>effect<span class="w"> </span><span class="m">30</span><span class="w"> </span>--speed<span class="w"> </span><span class="m">255</span><span class="w"> </span>--sat<span class="w"> </span><span class="m">255</span><span class="w"> </span>--hue<span class="w"> </span><span class="m">255</span>
</code></pre></div>
<p>The commands will take a number between 0 and 255. You can set all the options like in the command above, or only set two, or one:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>effect<span class="w"> </span><span class="m">30</span><span class="w"> </span>--hue<span class="w"> </span><span class="m">255</span>
rpi-keyboard-config<span class="w"> </span>effect<span class="w"> </span><span class="m">30</span><span class="w"> </span>--speed<span class="w"> </span><span class="m">255</span><span class="w"> </span>--hue<span class="w"> </span><span class="m">255</span>
</code></pre></div>
<p>Being able to view these commands through the terminal is nice and all, but if you really want to start customizing your keyboard, you can assign an effect to your keyboard's preset slot:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>preset<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">25</span>
</code></pre></div>
<p>In the command above, we are setting effect number 25 to preset slot 2. You should be able to now use the <code>FN+F4</code> keys to cycle through the preset slots and see your effect saved in slot 2!</p>
<p>If you ever want to see what effects are assigned to what slot, you can use the following command:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>preset<span class="w"> </span>get
</code></pre></div>
<p>By default, preset slot 0 will be empty. This preset slot is the default that will be loaded when the Pi 500+ is powered on - if you assign your favorite effect to this slot, it will automatically be displayed every time you turn on your Pi.</p>
<p>If you press <code>FN+F5</code> and <code>FN+F6</code> on your keyboard, you can control the global brightness of your effect. This can also be done in the terminal with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>brightness<span class="w"> </span><span class="m">255</span>
</code></pre></div>
<p>The brightness can be set with any number between 0 and 255.</p>
<p>Now, let's start getting into the fun and custom stuff! First, run the clear command to clear all the current LED colors so we can start with a blank canvas:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>leds<span class="w"> </span>clear
</code></pre></div>
<p>Let's use a basic command to set all the LEDs on our keyboard a specific color with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>leds<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--colour<span class="w"> </span><span class="s2">&quot;0,255,255&quot;</span>
</code></pre></div>
<p>The command above uses the HSV format to represent colors. If it is not your cup of tea, you can instead choose to use the RGB format with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>leds<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--colour<span class="w"> </span><span class="s2">&quot;rgb(255,0,0)&quot;</span>
</code></pre></div>
<p>Both of these commands achieve the same thing; they just use different ways of representing the color red. Also note that usually the hue value in HSVs range from 0 to 360, in this library it instead only takes a number from 0 to 255. So cyan (which is usually 180), will be scaled down to 128.</p>
<p>Now let's set individual LED colors! It may be wise to run the LEDs clear command to start with a blank canvas again. Then we can use the following command to set the W key to an aqua color with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>led<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="s2">&quot;2,3&quot;</span><span class="w"> </span>--colour<span class="w"> </span><span class="s2">&quot;rgb(0,255,255)&quot;</span>
</code></pre></div>
<p>This is very similar to the previous command, but this time we have a row and column being used to specify which key to light up.</p>
<p>You can generate a nice visualization of what key has what number row and column with the following command:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>info<span class="w"> </span>--ascii
</code></pre></div>
<p>In the image on the right, we went through and assigned some colors with this command. If you have created a custom RGB layout with this and wish to save it, you can do so with the save command:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>leds<span class="w"> </span>save
</code></pre></div>
<p>This will save your custom layout as effect 1. Even if you restart your Pi, your layout will still be saved to this effect, and you can also assign it to a keyboard preset slot as usual.</p>
<p>Unfortunately, only one custom layout can be saved at a time - you can only save to effect 1. We will look at how to create unlimited custom layouts with Python scripts later.</p>
<p>Wrapping up, if you ever want to reset all your effects and presets back to the defaults, you can use the following command:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>reset-presets
</code></pre></div>
<p>And just for a bit of fun, you can play a game of Flappy Birds with:</p>
<div class="highlight"><pre><span></span><code>rpi-keyboard-config<span class="w"> </span>game
</code></pre></div>
<h2 id="setting-colors-from-a-python-script">Setting Colors From a Python Script</h2>
<p>Let's now move on to doing what we just looked at, but through Python scripts. Why would we want to do this though? What's wrong with the terminal commands method? Well, the biggest drawback is that it takes about a second to update a key color through the terminal - and we can only update one key color at a time with a command. With 84 keys on our board, that means to randomly assign a color to each key, it would take 84 seconds!</p>
<p>With the Python script method, we can update all the keys at once, and we can do so many times a second! On top of that, it's Python! We can make animations, add integrations, and make interactive layouts!</p>
<p>If you haven't done so already, go ahead and download the zip file containing all the Python scripts, and unzip it to a convenient location.</p>
<p>Go ahead and open up <code>simple_colour.py</code>. This script is a stripped-back demo of how colors can be controlled. First, it imports the rpi-keyboard-config library, then initializes the keyboard, and sets the LED control mode (telling the keyboard we are about to start sending it RGB commands). These are the important first steps of any script controlling the RGB.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">RPiKeyboardConfig</span><span class="w"> </span><span class="kn">import</span> <span class="n">RPiKeyboardConfig</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="c1"># Initialize the keyboard</span>
<span class="n">keyboard</span> <span class="o">=</span> <span class="n">RPiKeyboardConfig</span><span class="p">()</span>

<span class="c1"># Set LED direct control mode</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_direct_effect</span><span class="p">()</span>
</code></pre></div>
<p>Then in a while true loop, we start by setting the color of the W key. Here we set the W key to purple using HSV, and with the same row and column system as the terminal method.</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Set LED by matrix position (HSV format: hue, saturation, value)</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_by_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">colour</span><span class="o">=</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>  <span class="c1"># Purple</span>
</code></pre></div>
<p>But this does not actually set the color of the key yet, it instead queues it up. You can use this command to queue up as many key colors as you want, and could queue up a color change on every single key. To actually push these queued up key colors and update the colors on the board, we use the <code>send_leds()</code> command.</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Set LED by matrix position (HSV format: hue, saturation, value)</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_by_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">colour</span><span class="o">=</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>  <span class="c1"># Purple</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">send_leds</span><span class="p">()</span>
</code></pre></div>
<p>Then after a short delay, we repeat the same process but this time with orange. The end result of this code is that it will flash the W key orange and purple.</p>
<div class="highlight"><pre><span></span><code>    <span class="c1"># Set individual LED by index</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_by_idx</span><span class="p">(</span><span class="n">idx</span><span class="o">=</span><span class="mi">33</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>      <span class="c1"># Orange</span>
    <span class="c1"># Send LED updates to keyboard (required after setting colors)</span>
    <span class="n">keyboard</span><span class="o">.</span><span class="n">send_leds</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div>
<p>There is one slight difference in this line. Here we are setting the W key through its ID rather than with rows and columns. This ID system is just another way of representing the keys. Start on the top row of your keyboard and count the keys from left to right (but do not count the power button). Once you reach the right side of the keyboard, move down a row and continue counting from left to right. If you do this once more, you should land on W and have counted to 33 - so W has an ID of 33.</p>
<p>There is one final helpful command being used in this script as well:</p>
<div class="highlight"><pre><span></span><code>    <span class="nb">print</span><span class="p">(</span><span class="n">keyboard</span><span class="o">.</span><span class="n">get_leds</span><span class="p">())</span>
</code></pre></div>
<p>The command will return the current color of every single LED on the keyboard. This is an incredibly helpful tool if you are doing anything animation-related, as you can get the current state of the board and animate from that point.</p>
<p>The lines in this demo script are the basic building blocks that you can use to go out and make nearly any custom effects! For example, if you open up and run <code>game_of_life.py</code>, you will have a game of life simulation run on your keyboard in a random color. This script uses the same fundamental building blocks as the simple demo; it just has extra code deciding which LEDs to light up.</p>
<p>Another example is <code>fire.py</code>. This is a very basic fire simulation that spawns embers and simulates them rising up and changing color. Again, it uses the same building blocks, and most of the code is dedicated to calculating which keys to light up and what color.</p>
<p>Now, creating animations like this is a lot of work and can sometimes require a fair amount of math. A great option might be to try and use an LLM like ChatGPT or Claude. If you copy and paste to them any of these demo scripts, they will likely be able to help you generate code for other custom effects.</p>
<p>For example, we were able to take this fire demo script and get it to add something called interpolation. If you run <code>fire_interpolated.py</code>, you will see that this makes animations far smoother, and if you are going to the effort of asking an LLM to help you write code, it is probably worthwhile asking them to add interpolation as well.</p>
<p>At this point, we were wondering how much of a toll this is having on our Pi, and how fast can we update our RGB? To test this, we wrote <code>speed_test.py</code>, which flashes every key a random color as fast as possible.</p>
<p>Running this, we found that the keyboard was able to update at over 30 fps! This is substantially faster than the roughly 1 key a second through the terminal method.</p>
<p>We also opened up a resource manager with the following command:</p>
<div class="highlight"><pre><span></span><code>htop
</code></pre></div>
<p>While running this code, we found that it used about 5% to 10% of the Pi's CPU - not a huge amount, but not a negligible amount. This usage will of course be more or less depending on how complex your effect is and how fast you are updating it.</p>
<h2 id="a-simple-notification-system">A Simple Notification System</h2>
<p>Much of the things we did in the terminal can also be done through the library - including setting a preset. In the project folder you will find <code>flash_demo.py</code>. This short script creates a small "flash" effect on the Pi 500+ keyboard that triggers at random intervals — showing how you can temporarily override your normal RGB preset, display an animation, and then bring it straight back. Let's break it down step by step.</p>
<p>We start by importing the required packages and setting up our keyboard object:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">RPiKeyboardConfig</span><span class="w"> </span><span class="kn">import</span> <span class="n">RPiKeyboardConfig</span>
<span class="n">keyboard</span> <span class="o">=</span> <span class="n">RPiKeyboardConfig</span><span class="p">()</span>
</code></pre></div>
<p>Here, <code>random</code> and <code>time</code> are standard Python libraries, and <code>RPiKeyboardConfig</code> is the official library that talks directly to the keyboard's lighting system. The final line initializes that library so we can start sending it commands.</p>
<p>Now we jump into our main loop:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Generate a random number between 1 and 5</span>
    <span class="n">random_number</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Random number: </span><span class="si">{</span><span class="n">random_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This loop keeps the script running continuously. Each pass it rolls a new random number between 1 and 5. This is how we decide when to do our "flash" effect — only when the number comes up 3.</p>
<p>Inside that condition, the magic happens:</p>
<div class="highlight"><pre><span></span><code>    <span class="k">if</span> <span class="n">random_number</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="c1"># 1) Save the preset slot index</span>
        <span class="n">current_idx</span> <span class="o">=</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">get_current_preset_index</span><span class="p">()</span>
        <span class="c1"># 2) Switch to direct LED mode</span>
        <span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_direct_effect</span><span class="p">()</span>
</code></pre></div>
<p>The first line remembers which preset you're currently using so it can be restored later. Then we switch the keyboard to direct LED mode, which basically gives us raw control over every LED on the board.</p>
<p>Next we fill the keyboard with random colors:</p>
<div class="highlight"><pre><span></span><code>        <span class="c1"># 3) Fill with random colors</span>
        <span class="n">all_leds</span> <span class="o">=</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">get_leds</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">led</span> <span class="ow">in</span> <span class="n">all_leds</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">=</span> <span class="mi">255</span>
            <span class="n">v</span> <span class="o">=</span> <span class="mi">255</span>
            <span class="n">keyboard</span><span class="o">.</span><span class="n">set_led_by_idx</span><span class="p">(</span><span class="n">idx</span><span class="o">=</span><span class="n">led</span><span class="o">.</span><span class="n">idx</span><span class="p">,</span> <span class="n">colour</span><span class="o">=</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
        <span class="n">keyboard</span><span class="o">.</span><span class="n">send_leds</span><span class="p">()</span>
</code></pre></div>
<p>We grab a list of all LEDs on the board, generate random color values for each (using full saturation and brightness), then send those colors to the keyboard. This is the "flash" moment.</p>
<p>After holding that flash for a second, we clear everything and bring back the normal preset:</p>
<div class="highlight"><pre><span></span><code>        <span class="c1"># 4) Hold the flash</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># 5) Clear LEDs</span>
        <span class="n">keyboard</span><span class="o">.</span><span class="n">rgb_clear</span><span class="p">()</span>
        <span class="n">keyboard</span><span class="o">.</span><span class="n">send_leds</span><span class="p">()</span>
        <span class="c1"># 6) Restore preset</span>
        <span class="k">if</span> <span class="n">current_idx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">keyboard</span><span class="o">.</span><span class="n">set_current_preset_index</span><span class="p">(</span><span class="n">current_idx</span><span class="p">,</span> <span class="n">save_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Restored preset index </span><span class="si">{</span><span class="n">current_idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This brief pause keeps the flash visible, then the script wipes the LEDs and reloads your saved preset so it looks exactly how it did before.</p>
<p>Finally, we wait a second before running the next loop.</p>
<div class="highlight"><pre><span></span><code>    <span class="c1"># Wait 1 second before next iteration</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Now, this might seem like a bit of a strange thing to do, but what we've actually built here is a simple notification or heads-up system. You could have your favorite lighting preset running, and then - say the doorbell rings - a Python integration could flash your keyboard to alert you. Or maybe you connect it to Home Assistant to display information on your desk; it's almost like having a low-resolution screen built into your keyboard. You could even set up built-in timers, like a Pomodoro tracker or system reminders. There are countless creative ways to use this approach, and by reading and loading presets, you can make all sorts of interactive lighting effects that suit your setup.</p>
<h2 id="creating-interactive-effects">Creating Interactive Effects</h2>
<p>We can pre-program fancy LED colors and animations, but we are using Python here - we can do more complex things like reacting to keyboard inputs.</p>
<p>The keyboard library we have been using does natively support detecting key presses, but it also includes a security feature that requires you to press enter and escape to unlock the keyboard before it can detect them - this must be done every time the Pi is restarted.</p>
<p>This is not a major issue, but we are looking at having these Python scripts automatically start on boot up, and this extra manual step is a slight hassle. As a result, we will be using Pynput, which does the same task. You can install it with the following command:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pynput<span class="w"> </span>--break-system-packages
</code></pre></div>
<p>In the script <code>snake.py</code>, you will find (as the name suggests) a game of snake that uses pynput for controls. Follow the instructions in the shell of Thonny to get going with it!</p>
<p>Let's put everything together and make something really cool - a sort of screensaver for the keyboard. Go ahead and open up the <code>screensaver.py</code> script, and you'll see exactly what's going on.</p>
<p>There's quite a bit happening under the hood, but in simple terms, the script watches for keyboard activity, and if it doesn't register any input for five seconds, it springs into action. It saves the current preset you're using, gradually fades out the keyboard's brightness (using the same global brightness command we used earlier in the terminal), and then starts displaying a soft "firefly" animation. As soon as you press a key again, it restores your original preset and brightness — a neat little screensaver, but for your keyboard.</p>
<h2 id="automatically-running-scripts-on-boot">Automatically Running Scripts on Boot</h2>
<p>We have this all running out of Thonny just fine, but this is not very practical in day-to-day use. There is a way to make this Python script run automatically on launch so it just does its thing in the background. First of all, we need to have the script in a readily available place, or somewhere we know the path to. If you want to follow along with the exact locations in these commands, copy your Python script to <code>/home/pi</code> (the folder that opens by default when you open the folder browser).</p>
<p>Once it is in there, we will need to use chmod to make it executable with:</p>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>/home/pi/fire.py
</code></pre></div>
<p>Our script is called <code>fire.py</code>, so you should change this to whatever your script is called. Then, open a new terminal window and edit the crontab file with:</p>
<div class="highlight"><pre><span></span><code>crontab<span class="w"> </span>-e
</code></pre></div>
<p>The first time you do this, you may need to select an editor to use. Enter in 1 to use the nano editor. Once you are in the file, use the arrow keys to navigate to the bottom of the file, and in a new line, enter the following:</p>
<div class="highlight"><pre><span></span><code>@reboot<span class="w"> </span>sleep<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>/usr/bin/python3<span class="w"> </span>/home/pi/fire.py<span class="w"> </span><span class="p">&amp;</span>
</code></pre></div>
<p>You will likely need to alter this line. The user name of our device is "pi", so we have <code>/home/pi/fire.py</code>, but you will need to replace pi with whatever your username is. Again, our script is called <code>fire.py</code>, so you also need to change it to what you have named yours.</p>
<p>Once you have entered this line correctly, hit <code>Ctrl + X</code>, then <code>Y</code> and then <code>Enter</code> to save it. The next time you reboot your Pi, this should automatically start!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        
  <footer class="md-footer">
    
      <div class="md-footer-nav">
        <nav class="md-footer-nav__inner md-grid">
          
            <a href="../01-introduction/" title="1. Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span class="md-footer-nav__direction">
                    Previous
                  </span>
                  1. Introduction
                </span>
              </div>
            </a>
          
          
            <a href="../../lessons/" title="List of Lessons" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span class="md-footer-nav__direction">
                    Next
                  </span>
                  List of Lessons
                </span>
              </div>
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
              </div>
            </a>
          
        </nav>
      </div>
    
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          
            <div class="md-footer-copyright__highlight">
              Copyright &copy; 2025 Dan McCreary. Licensed under <a href="license/">CC BY-NC-SA 4.0</a> for non-commercial use.
            </div>
          
            All content including images are licenses under 
            <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons 
              Attribution NonCommercial ShareAlike</a>
        </div>
        
<div class="md-social">
  
</div>
      </div>
    </div>
  </footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
    
  </body>
</html>