{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Arduino Moving Rainbow documentation! Learning to program using LED strips version 2 ''' Note! We are no longer accepting pull request for Arduino C code. Due to the fact that we can get Raspberry Pi Pico processors for $4 that run Python we have moved all our Moving Rainbow code over to Python. About Moving Rainbow Moving Rainbow is a way to learn the basics of programming using LED strips. We use low-cost components so you can build an entire costume with 100s of LEDs for under $20 Getting Started Addressable LED Strips Addressable LED strips are easy to connect to your project since they only need three wires (Ground, +5V and data). LED strip can be purchased on sites like ebay.com for under $5/meter of 60 RGB LEDs. References CoderDoj CoderDojo Twin Cities CodeSavvy Raspberry Pi Pico The Raspberry Pi Pico cost only $4 and runs Python. All our labs use this processor. Arduino Nanos Arduino Nanos were the lowest cost member of the Arduino family. They are small and can be purchased for under $3. Breadboards In our projects we use 1/2 sized breadboard with 400 tie points. Mode Buttons A \"mode\" is a way of having a single Arduino program run multiple patterns on the LED strip. Each mode has a number associated with it starting with 0 and continuing to the number of patterns we have in our program. In this section we will add two mode buttons. One button will make the pattern mode go to the next mode. The other button will go to the previous mode. Programming the LED strip Each of our example programs will have at least three sections: The preamble - this constains the library directives and initialization of static unchanging variables The setup() function - this function is run once with the Arduion first starts up The loop function - this function runs continually as long at the Arduino has power Sample Blink Program 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include <Adafruit_NeoPixel.h> const int LED_STRIP_PIN = 12 ; // Connect the Data pin of the LED strip here const int NUMBER_PIXELS = 60 ; Adafruit_NeoPixel strip = Adafruit_NeoPixel ( NUMBER_PIXELS , LED_STRIP_PIN , NEO_GRB + NEO_KHZ800 ); void setup () { strip . begin (); } void loop () { strip . setPixelColor ( 0 , 255 , 0 , 0 ); strip . show (); delay ( 1000 ); strip . setPixelColor ( 0 , 0 , 0 , 0 ); delay ( 1000 ); }","title":"Moving Rainbow Home"},{"location":"#welcome-to-the-arduino-moving-rainbow-documentation","text":"Learning to program using LED strips version 2 ''' Note! We are no longer accepting pull request for Arduino C code. Due to the fact that we can get Raspberry Pi Pico processors for $4 that run Python we have moved all our Moving Rainbow code over to Python.","title":"Welcome to the Arduino Moving Rainbow documentation!"},{"location":"#about-moving-rainbow","text":"Moving Rainbow is a way to learn the basics of programming using LED strips. We use low-cost components so you can build an entire costume with 100s of LEDs for under $20","title":"About Moving Rainbow"},{"location":"#getting-started","text":"","title":"Getting Started"},{"location":"#addressable-led-strips","text":"Addressable LED strips are easy to connect to your project since they only need three wires (Ground, +5V and data). LED strip can be purchased on sites like ebay.com for under $5/meter of 60 RGB LEDs.","title":"Addressable LED Strips"},{"location":"#references","text":"CoderDoj CoderDojo Twin Cities CodeSavvy","title":"References"},{"location":"#raspberry-pi-pico","text":"The Raspberry Pi Pico cost only $4 and runs Python. All our labs use this processor.","title":"Raspberry Pi Pico"},{"location":"#arduino-nanos","text":"Arduino Nanos were the lowest cost member of the Arduino family. They are small and can be purchased for under $3.","title":"Arduino Nanos"},{"location":"#breadboards","text":"In our projects we use 1/2 sized breadboard with 400 tie points.","title":"Breadboards"},{"location":"#mode-buttons","text":"A \"mode\" is a way of having a single Arduino program run multiple patterns on the LED strip. Each mode has a number associated with it starting with 0 and continuing to the number of patterns we have in our program. In this section we will add two mode buttons. One button will make the pattern mode go to the next mode. The other button will go to the previous mode.","title":"Mode Buttons"},{"location":"#programming-the-led-strip","text":"Each of our example programs will have at least three sections: The preamble - this constains the library directives and initialization of static unchanging variables The setup() function - this function is run once with the Arduion first starts up The loop function - this function runs continually as long at the Arduino has power Sample Blink Program 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include <Adafruit_NeoPixel.h> const int LED_STRIP_PIN = 12 ; // Connect the Data pin of the LED strip here const int NUMBER_PIXELS = 60 ; Adafruit_NeoPixel strip = Adafruit_NeoPixel ( NUMBER_PIXELS , LED_STRIP_PIN , NEO_GRB + NEO_KHZ800 ); void setup () { strip . begin (); } void loop () { strip . setPixelColor ( 0 , 255 , 0 , 0 ); strip . show (); delay ( 1000 ); strip . setPixelColor ( 0 , 0 , 0 , 0 ); delay ( 1000 ); }","title":"Programming the LED strip"},{"location":"getting-started/","text":"Getting Started with Moving Rainbow","title":"Getting Started with Moving Rainbow"},{"location":"getting-started/#getting-started-with-moving-rainbow","text":"","title":"Getting Started with Moving Rainbow"},{"location":"getting-started/desktop-setup/","text":"Desktop Setup In this lesson, we will review the steps to get your PC or Mac setup to use the free open source Thonny Python Integrated Development Environment (IDE). We will assume you are using either the Raspberry Pi Pico or the Raspberry Pi Pico \"W\" for thee lessons. About Thonny Thonny is an ideal tool for writing MicroPython code for students just getting started. It is free, simple to use, and it runs on PCs running Windows, Macs and Linux systems such as the Raspberry Pi. Step 1: Install Thonny The installation of Thonny will vary depending on the type of computer you are using. For both Windows and Mac, you must first download an installer program. The links to these downloads are on the main Thonny page : For all the versions of Linux, you can open the command shell an type in the correct installation command. For people using the Raspberry Pi operating system, Thonny may already be included in your software. Thonny Versions These labs have all been tested on Thonny Version 4.0.4 . Step 2: Configure the MicroPython Firmware After you first plug in a Raspberry Pi Pico, you will need to install the correct runtime library for the Pico. This just takes a minute and you will only have to do it once for each microcontroller. Since version 4.0.0 Thonny can detect the microcontroller you are using and download the firmware. Manually Downloading the Firmware There are occasions that the automatic firmware download in Thonny may not work. In this case you will need to manually download the firmware from the MicroPython web site. Here are the links to the Pico Firmware (called RP2-pico): Raspberry Pi Pico Firmware Step 3: Configure Interpreter Thonny is designed to automatically detect the correct device and configure the right interpreter. You can verify this by using the Thonny Options menu.","title":"Desktop Setup"},{"location":"getting-started/desktop-setup/#desktop-setup","text":"In this lesson, we will review the steps to get your PC or Mac setup to use the free open source Thonny Python Integrated Development Environment (IDE). We will assume you are using either the Raspberry Pi Pico or the Raspberry Pi Pico \"W\" for thee lessons.","title":"Desktop Setup"},{"location":"getting-started/desktop-setup/#about-thonny","text":"Thonny is an ideal tool for writing MicroPython code for students just getting started. It is free, simple to use, and it runs on PCs running Windows, Macs and Linux systems such as the Raspberry Pi.","title":"About Thonny"},{"location":"getting-started/desktop-setup/#step-1-install-thonny","text":"The installation of Thonny will vary depending on the type of computer you are using. For both Windows and Mac, you must first download an installer program. The links to these downloads are on the main Thonny page : For all the versions of Linux, you can open the command shell an type in the correct installation command. For people using the Raspberry Pi operating system, Thonny may already be included in your software.","title":"Step 1: Install Thonny"},{"location":"getting-started/desktop-setup/#thonny-versions","text":"These labs have all been tested on Thonny Version 4.0.4 .","title":"Thonny Versions"},{"location":"getting-started/desktop-setup/#step-2-configure-the-micropython-firmware","text":"After you first plug in a Raspberry Pi Pico, you will need to install the correct runtime library for the Pico. This just takes a minute and you will only have to do it once for each microcontroller. Since version 4.0.0 Thonny can detect the microcontroller you are using and download the firmware.","title":"Step 2: Configure the MicroPython Firmware"},{"location":"getting-started/desktop-setup/#manually-downloading-the-firmware","text":"There are occasions that the automatic firmware download in Thonny may not work. In this case you will need to manually download the firmware from the MicroPython web site. Here are the links to the Pico Firmware (called RP2-pico): Raspberry Pi Pico Firmware","title":"Manually Downloading the Firmware"},{"location":"getting-started/desktop-setup/#step-3-configure-interpreter","text":"Thonny is designed to automatically detect the correct device and configure the right interpreter. You can verify this by using the Thonny Options menu.","title":"Step 3: Configure Interpreter"},{"location":"getting-started/kits/","text":"Moving Rainbow Kits Our standard kit contains the following parts: A Raspberry Pi Pico A 1/2 size solderless breadboard (400 ties) A 30-pixel addressable RGB LED strip (WS2812B) 3 terminal screw header Two momentary push buttons 22 gauge wires","title":"Standard Kits"},{"location":"getting-started/kits/#moving-rainbow-kits","text":"Our standard kit contains the following parts: A Raspberry Pi Pico A 1/2 size solderless breadboard (400 ties) A 30-pixel addressable RGB LED strip (WS2812B) 3 terminal screw header Two momentary push buttons 22 gauge wires","title":"Moving Rainbow Kits"},{"location":"getting-started/parts/","text":"Purchasing Your Own Parts You can easily create your own projects based on the Moving Rainbow kits and software. You can do this by purchasing parts on on-line sites such as e-Bay or Amazon. If you are a good planner you can purchase parts from China that take longer to arrive, but they can cost significantly less than parts that ship overnight on Amazon. This guide provides sample links to both e-Bay and Amazon, but we aware that these site change frequently. Soldering Many of the parts you purchase online might require some soldering to make them easy to use. We recommend that you get a soldering iron and solder and watch a YouTube video on how to solder. Kids should always have adult supervision and you should check with your school or classroom policy before you bring a soldering iron to school. MicroControllers Raspberry Pi Pico We use the Raspberry Pi Pico (far left) because it only costs about $4. It also mounts directly on the breadboard after we add the header pins. NeoPixels Header Pins If your Microcontrollers do not come with header pins, you can purchase about 100 of them on e-Bay for about $11. 100pcs Pitch 1x40 Pins 2.54mm Male Single Row Male Pin Header Strip NeoPixel Rings Raspberry Pi Pico Breadboards Momentary Push Buttons Boxes Our students love to put their projects into clear boxes so they can simply throw them in their backpacks and show their friends. We use clear boxes that you can purchase at The Container Store Shallow Narrow Stackable Rectangle Clear 8-1/4\" x 3-1/2\" x 1-1/2\" h $3.99 SKU:10051084 These boxes have a clear detachable lid that shows off the interior wiring of their kits. MicroPython Site For more parts, see the MicroPython site here:","title":"Purchasing Your Own Parts"},{"location":"getting-started/parts/#purchasing-your-own-parts","text":"You can easily create your own projects based on the Moving Rainbow kits and software. You can do this by purchasing parts on on-line sites such as e-Bay or Amazon. If you are a good planner you can purchase parts from China that take longer to arrive, but they can cost significantly less than parts that ship overnight on Amazon. This guide provides sample links to both e-Bay and Amazon, but we aware that these site change frequently.","title":"Purchasing Your Own Parts"},{"location":"getting-started/parts/#soldering","text":"Many of the parts you purchase online might require some soldering to make them easy to use. We recommend that you get a soldering iron and solder and watch a YouTube video on how to solder. Kids should always have adult supervision and you should check with your school or classroom policy before you bring a soldering iron to school.","title":"Soldering"},{"location":"getting-started/parts/#microcontrollers","text":"","title":"MicroControllers"},{"location":"getting-started/parts/#raspberry-pi-pico","text":"We use the Raspberry Pi Pico (far left) because it only costs about $4. It also mounts directly on the breadboard after we add the header pins.","title":"Raspberry Pi Pico"},{"location":"getting-started/parts/#neopixels","text":"","title":"NeoPixels"},{"location":"getting-started/parts/#header-pins","text":"If your Microcontrollers do not come with header pins, you can purchase about 100 of them on e-Bay for about $11. 100pcs Pitch 1x40 Pins 2.54mm Male Single Row Male Pin Header Strip","title":"Header Pins"},{"location":"getting-started/parts/#neopixel-rings","text":"","title":"NeoPixel Rings"},{"location":"getting-started/parts/#raspberry-pi-pico_1","text":"","title":"Raspberry Pi Pico"},{"location":"getting-started/parts/#breadboards","text":"","title":"Breadboards"},{"location":"getting-started/parts/#momentary-push-buttons","text":"","title":"Momentary Push Buttons"},{"location":"getting-started/parts/#boxes","text":"Our students love to put their projects into clear boxes so they can simply throw them in their backpacks and show their friends. We use clear boxes that you can purchase at The Container Store Shallow Narrow Stackable Rectangle Clear 8-1/4\" x 3-1/2\" x 1-1/2\" h $3.99 SKU:10051084 These boxes have a clear detachable lid that shows off the interior wiring of their kits.","title":"Boxes"},{"location":"getting-started/parts/#micropython-site","text":"For more parts, see the MicroPython site here:","title":"MicroPython Site"},{"location":"lessons/","text":"Moving Rainbow Lessons Blink Fade In and Out Heartbeat Red, Green and Blue Color Wheel Moving Pixel Swipe","title":"Moving Rainbow Lessons"},{"location":"lessons/#moving-rainbow-lessons","text":"Blink Fade In and Out Heartbeat Red, Green and Blue Color Wheel Moving Pixel Swipe","title":"Moving Rainbow Lessons"},{"location":"lessons/01-blink/","text":"Blink Here is one of simplest moving rainbow programs. It is our version of \"Hello World!. Our first program will just blink the first pixel on and off every 1/2 second. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 from neopixel import NeoPixel from utime import sleep NEOPIXEL_PIN = 0 NUMBER_PIXELS = 30 strip = NeoPixel ( machine . Pin ( NEOPIXEL_PIN ), NUMBER_PIXELS ) while True : # red is 10 of 255 strip [ i ] = ( 10 , 0 , 0 ) # turn on for 1/2 second strip . write () sleep ( . 5 ) # turn off for 1/2 second strip [ i ] = ( 0 , 0 , 0 ) strip . write () sleep ( . 5 )","title":"Blink"},{"location":"lessons/01-blink/#blink","text":"Here is one of simplest moving rainbow programs. It is our version of \"Hello World!. Our first program will just blink the first pixel on and off every 1/2 second. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 from neopixel import NeoPixel from utime import sleep NEOPIXEL_PIN = 0 NUMBER_PIXELS = 30 strip = NeoPixel ( machine . Pin ( NEOPIXEL_PIN ), NUMBER_PIXELS ) while True : # red is 10 of 255 strip [ i ] = ( 10 , 0 , 0 ) # turn on for 1/2 second strip . write () sleep ( . 5 ) # turn off for 1/2 second strip [ i ] = ( 0 , 0 , 0 ) strip . write () sleep ( . 5 )","title":"Blink"},{"location":"lessons/02-fade-in-and-out/","text":"Fade In and Out Lab What if instead of the first LED just turning on and off we want to slowly make the LED get brighter and then slowly dimmer? To do this we will change the brightness of the red from off (0) to fully on (255) in steps with a small delay of 1/100th of a second between the steps. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 from neopixel import NeoPixel from time import sleep NUMBER_PIXELS = 1 LED_PIN = 0 strip = NeoPixel ( machine . Pin ( LED_PIN ), NUMBER_PIXELS ) # the time between each of the 255 brightness steps delay = . 01 while True : # slowly get brighter for i in range ( 0 , 255 ): strip [ 0 ] = ( i , 0 , 0 ) # red=255, green and blue are 0 strip . write () # send the data from RAM down the wire sleep ( delay ) # slowly get dimmer for i in range ( 255 , 0 , - 1 ): strip [ 0 ] = ( i , 0 , 0 ) strip . write () sleep ( delay )","title":"Fade In and Out"},{"location":"lessons/02-fade-in-and-out/#fade-in-and-out-lab","text":"What if instead of the first LED just turning on and off we want to slowly make the LED get brighter and then slowly dimmer? To do this we will change the brightness of the red from off (0) to fully on (255) in steps with a small delay of 1/100th of a second between the steps. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 from neopixel import NeoPixel from time import sleep NUMBER_PIXELS = 1 LED_PIN = 0 strip = NeoPixel ( machine . Pin ( LED_PIN ), NUMBER_PIXELS ) # the time between each of the 255 brightness steps delay = . 01 while True : # slowly get brighter for i in range ( 0 , 255 ): strip [ 0 ] = ( i , 0 , 0 ) # red=255, green and blue are 0 strip . write () # send the data from RAM down the wire sleep ( delay ) # slowly get dimmer for i in range ( 255 , 0 , - 1 ): strip [ 0 ] = ( i , 0 , 0 ) strip . write () sleep ( delay )","title":"Fade In and Out Lab"},{"location":"lessons/03-heartbeat/","text":"Heartbeat Lab What if you were building a robot and you wanted to flash the LED to look like a human heartbeat? Instead of slowing fading in and out, you would want the brightness to follow the electrical signals coming from the heart. This is called an elecrto cardiogram (EKG) and it look like this: Notice that the signal is low for about one second and then it spikes up to maximum brightness and then comes back down. When we are moving the brightness up and down, we don't have to pause between each of the 256 brightness values. The eye can't usually see the intermediate brightness values if the brightness is changing quickly. To make our code efficient we can skip over 9 out of 10 of the brightness gradations between 0 and 255. We call this the skip_interval in our code below. The following code emulates this heart beat pattern: ```py from neopixel import NeoPixel from time import sleep Most people have a heart rate of around 60-70 beats per minute If we add a once second delay between \"beats\" you can make and LED look like a beating heart. NUMBER_PIXELS = 1 LED_PIN = 0 strip = NeoPixel(machine.Pin(LED_PIN), NUMBER_PIXELS) ramp_delay = .001 beat_delay = 1 skip_interval = 10 while True: # ramp brightness up using the ramp_delay for i in range(0, 255, skip_interval): strip[0] = (i,0,0) strip.write() sleep(ramp_delay) # ramp brightness down using the same delay for i in range(255, 0, -skip_interval): strip[0] = (i,0,0) strip.write() sleep(ramp_delay) strip[0] = (0,0,0) strip.write() sleep(beat_delay) ```","title":"Heartbeat"},{"location":"lessons/03-heartbeat/#heartbeat-lab","text":"What if you were building a robot and you wanted to flash the LED to look like a human heartbeat? Instead of slowing fading in and out, you would want the brightness to follow the electrical signals coming from the heart. This is called an elecrto cardiogram (EKG) and it look like this: Notice that the signal is low for about one second and then it spikes up to maximum brightness and then comes back down. When we are moving the brightness up and down, we don't have to pause between each of the 256 brightness values. The eye can't usually see the intermediate brightness values if the brightness is changing quickly. To make our code efficient we can skip over 9 out of 10 of the brightness gradations between 0 and 255. We call this the skip_interval in our code below. The following code emulates this heart beat pattern: ```py from neopixel import NeoPixel from time import sleep","title":"Heartbeat Lab"},{"location":"lessons/03-heartbeat/#most-people-have-a-heart-rate-of-around-60-70-beats-per-minute","text":"","title":"Most people have a heart rate of around 60-70 beats per minute"},{"location":"lessons/03-heartbeat/#if-we-add-a-once-second-delay-between-beats-you-can-make-and-led","text":"","title":"If we add a once second delay between \"beats\" you can make and LED"},{"location":"lessons/03-heartbeat/#look-like-a-beating-heart","text":"NUMBER_PIXELS = 1 LED_PIN = 0 strip = NeoPixel(machine.Pin(LED_PIN), NUMBER_PIXELS) ramp_delay = .001 beat_delay = 1 skip_interval = 10 while True: # ramp brightness up using the ramp_delay for i in range(0, 255, skip_interval): strip[0] = (i,0,0) strip.write() sleep(ramp_delay) # ramp brightness down using the same delay for i in range(255, 0, -skip_interval): strip[0] = (i,0,0) strip.write() sleep(ramp_delay) strip[0] = (0,0,0) strip.write() sleep(beat_delay) ```","title":"look like a beating heart."},{"location":"lessons/04-red-green-blue/","text":"","title":"Red, Green and Blue"},{"location":"lessons/05-color-wheel/","text":"Color Wheel Lab What if we wanted to slowly vary the color of one of our pixels through all the colors of the rainbow? What we would like is a function that would take in an number from 0 to 255 and walk around the color wheel as you change the input value. This is known as the `wheel function: 1 2 3 4 5 6 7 8 9 10 11 12 def wheel ( pos ): # Input a value 0 to 255 to get a color value. # The colors are a transition r - g - b - back to r. if pos < 0 or pos > 255 : return ( 0 , 0 , 0 ) if pos < 85 : return ( 255 - pos * 3 , pos * 3 , 0 ) if pos < 170 : pos -= 85 return ( 0 , 255 - pos * 3 , pos * 3 ) pos -= 170 return ( pos * 3 , 0 , 255 - pos * 3 ) If you follow the code, you will see that the colors range from red through green and to blue and back to red: 1 2 3 4 wheel ( 1 ) = ( 255 , 0 , 0 ) # red wheel ( 85 ) = ( 0 , 255 , 0 ) # green wheel ( 170 ) = ( 0 , 0 , 255 ) # blue wheel ( 255 ) = ( 255 , 0 , 0 ) # red Full Program This program will continu 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 import machine from neopixel import NeoPixel from utime import sleep NEOPIXEL_PIN = 0 NUMBER_PIXELS = 1 strip = NeoPixel ( machine . Pin ( NEOPIXEL_PIN ), NUMBER_PIXELS ) def wheel ( pos ): # Input a value 0 to 255 to get a color value. # The colors are a transition r - g - b - back to r. if pos < 0 or pos > 255 : return ( 0 , 0 , 0 ) if pos < 85 : return ( 255 - pos * 3 , pos * 3 , 0 ) if pos < 170 : pos -= 85 return ( 0 , 255 - pos * 3 , pos * 3 ) pos -= 170 return ( pos * 3 , 0 , 255 - pos * 3 ) counter = 0 while True : strip [ 0 ] = wheel ( counter ) strip . write () sleep ( . 01 ) counter += 1 # reset the counter if counter == 255 : counter = 0","title":"Color Wheel"},{"location":"lessons/05-color-wheel/#color-wheel-lab","text":"What if we wanted to slowly vary the color of one of our pixels through all the colors of the rainbow? What we would like is a function that would take in an number from 0 to 255 and walk around the color wheel as you change the input value. This is known as the `wheel function: 1 2 3 4 5 6 7 8 9 10 11 12 def wheel ( pos ): # Input a value 0 to 255 to get a color value. # The colors are a transition r - g - b - back to r. if pos < 0 or pos > 255 : return ( 0 , 0 , 0 ) if pos < 85 : return ( 255 - pos * 3 , pos * 3 , 0 ) if pos < 170 : pos -= 85 return ( 0 , 255 - pos * 3 , pos * 3 ) pos -= 170 return ( pos * 3 , 0 , 255 - pos * 3 ) If you follow the code, you will see that the colors range from red through green and to blue and back to red: 1 2 3 4 wheel ( 1 ) = ( 255 , 0 , 0 ) # red wheel ( 85 ) = ( 0 , 255 , 0 ) # green wheel ( 170 ) = ( 0 , 0 , 255 ) # blue wheel ( 255 ) = ( 255 , 0 , 0 ) # red","title":"Color Wheel Lab"},{"location":"lessons/05-color-wheel/#full-program","text":"This program will continu 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 import machine from neopixel import NeoPixel from utime import sleep NEOPIXEL_PIN = 0 NUMBER_PIXELS = 1 strip = NeoPixel ( machine . Pin ( NEOPIXEL_PIN ), NUMBER_PIXELS ) def wheel ( pos ): # Input a value 0 to 255 to get a color value. # The colors are a transition r - g - b - back to r. if pos < 0 or pos > 255 : return ( 0 , 0 , 0 ) if pos < 85 : return ( 255 - pos * 3 , pos * 3 , 0 ) if pos < 170 : pos -= 85 return ( 0 , 255 - pos * 3 , pos * 3 ) pos -= 170 return ( pos * 3 , 0 , 255 - pos * 3 ) counter = 0 while True : strip [ 0 ] = wheel ( counter ) strip . write () sleep ( . 01 ) counter += 1 # reset the counter if counter == 255 : counter = 0","title":"Full Program"},{"location":"lessons/06-linear-dimmer/","text":"Linear Dimmer We can dim a single LED by using PWM or we can dim a NeoPixel by sending it a value from 0 to 255 for the brightness. https://docs.micropython.org/en/latest/pyboard/tutorial/fading_led.html Gamma Correction Table 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 gamma8 = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 3 , 3 , 3 , 3 , 3 , 3 , 3 , 4 , 4 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 8 , 8 , 8 , 9 , 9 , 9 , 10 , 10 , 10 , 11 , 11 , 11 , 12 , 12 , 13 , 13 , 13 , 14 , 14 , 15 , 15 , 16 , 16 , 17 , 17 , 18 , 18 , 19 , 19 , 20 , 20 , 21 , 21 , 22 , 22 , 23 , 24 , 24 , 25 , 25 , 26 , 27 , 27 , 28 , 29 , 29 , 30 , 31 , 32 , 32 , 33 , 34 , 35 , 35 , 36 , 37 , 38 , 39 , 39 , 40 , 41 , 42 , 43 , 44 , 45 , 46 , 47 , 48 , 49 , 50 , 50 , 51 , 52 , 54 , 55 , 56 , 57 , 58 , 59 , 60 , 61 , 62 , 63 , 64 , 66 , 67 , 68 , 69 , 70 , 72 , 73 , 74 , 75 , 77 , 78 , 79 , 81 , 82 , 83 , 85 , 86 , 87 , 89 , 90 , 92 , 93 , 95 , 96 , 98 , 99 , 101 , 102 , 104 , 105 , 107 , 109 , 110 , 112 , 114 , 115 , 117 , 119 , 120 , 122 , 124 , 126 , 127 , 129 , 131 , 133 , 135 , 137 , 138 , 140 , 142 , 144 , 146 , 148 , 150 , 152 , 154 , 156 , 158 , 160 , 162 , 164 , 167 , 169 , 171 , 173 , 175 , 177 , 180 , 182 , 184 , 186 , 189 , 191 , 193 , 196 , 198 , 200 , 203 , 205 , 208 , 210 , 213 , 215 , 218 , 220 , 223 , 225 , 228 , 231 , 233 , 236 , 239 , 241 , 244 , 247 , 249 , 252 , 255 ] 1 2 3 4 ## Gamma Correction Function # input is an integer from 0 to 255 def gamma8 ( input ): return gamma8 [ input ]","title":"A Better Dimmer"},{"location":"lessons/06-linear-dimmer/#linear-dimmer","text":"We can dim a single LED by using PWM or we can dim a NeoPixel by sending it a value from 0 to 255 for the brightness. https://docs.micropython.org/en/latest/pyboard/tutorial/fading_led.html","title":"Linear Dimmer"},{"location":"lessons/06-linear-dimmer/#gamma-correction-table","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 gamma8 = [ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 3 , 3 , 3 , 3 , 3 , 3 , 3 , 4 , 4 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 8 , 8 , 8 , 9 , 9 , 9 , 10 , 10 , 10 , 11 , 11 , 11 , 12 , 12 , 13 , 13 , 13 , 14 , 14 , 15 , 15 , 16 , 16 , 17 , 17 , 18 , 18 , 19 , 19 , 20 , 20 , 21 , 21 , 22 , 22 , 23 , 24 , 24 , 25 , 25 , 26 , 27 , 27 , 28 , 29 , 29 , 30 , 31 , 32 , 32 , 33 , 34 , 35 , 35 , 36 , 37 , 38 , 39 , 39 , 40 , 41 , 42 , 43 , 44 , 45 , 46 , 47 , 48 , 49 , 50 , 50 , 51 , 52 , 54 , 55 , 56 , 57 , 58 , 59 , 60 , 61 , 62 , 63 , 64 , 66 , 67 , 68 , 69 , 70 , 72 , 73 , 74 , 75 , 77 , 78 , 79 , 81 , 82 , 83 , 85 , 86 , 87 , 89 , 90 , 92 , 93 , 95 , 96 , 98 , 99 , 101 , 102 , 104 , 105 , 107 , 109 , 110 , 112 , 114 , 115 , 117 , 119 , 120 , 122 , 124 , 126 , 127 , 129 , 131 , 133 , 135 , 137 , 138 , 140 , 142 , 144 , 146 , 148 , 150 , 152 , 154 , 156 , 158 , 160 , 162 , 164 , 167 , 169 , 171 , 173 , 175 , 177 , 180 , 182 , 184 , 186 , 189 , 191 , 193 , 196 , 198 , 200 , 203 , 205 , 208 , 210 , 213 , 215 , 218 , 220 , 223 , 225 , 228 , 231 , 233 , 236 , 239 , 241 , 244 , 247 , 249 , 252 , 255 ] 1 2 3 4 ## Gamma Correction Function # input is an integer from 0 to 255 def gamma8 ( input ): return gamma8 [ input ]","title":"Gamma Correction Table"}]}